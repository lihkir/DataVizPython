

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Errores comunes al crear visualizaciones interactivas &#8212; Visualización de Datos con Python y R</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'common_errors';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Modelo predictivo con series de tiempo" href="predictive_model.html" />
    <link rel="prev" title="Visualización interactiva de datos geográficos" href="geo_dataviz.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/logo_uninorte.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/logo_uninorte.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    <no title>
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="dataviz_intro.html">Introducción a la visualización de datos con Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="static_dataviz.html">Visualización estática</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactive_dataviz.html">De la visualización estática a la interactiva</a></li>
<li class="toctree-l1"><a class="reference internal" href="stratified_dataviz.html">Visualización de datos a través de estratos</a></li>
<li class="toctree-l1"><a class="reference internal" href="geo_dataviz.html">Visualización interactiva de datos geográficos</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Errores comunes al crear visualizaciones interactivas</a></li>
<li class="toctree-l1"><a class="reference internal" href="predictive_model.html">Modelo predictivo con series de tiempo</a></li>
<li class="toctree-l1"><a class="reference internal" href="postgresql.html">Introducción a PostreSQL y Docker</a></li>



<li class="toctree-l1"><a class="reference internal" href="dash_dataviz.html">Introducción a <code class="docutils literal notranslate"><span class="pre">Dash</span></code></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fcommon_errors.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/common_errors.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Errores comunes al crear visualizaciones interactivas</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduccion">Introducción</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#formato-e-interpretacion-de-datos">Formato e interpretación de datos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-valores-atipicos-en-un-conjunto-de-datos-con-un-grafico-de-cajas">Visualización de valores atípicos en un conjunto de datos con un gráfico de cajas</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#como-tratar-los-valores-atipicos">Cómo tratar los valores atípicos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tratamiento-de-los-valores-faltantes">Tratamiento de los valores faltantes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-para-entregar">Ejercicio para entregar</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="errores-comunes-al-crear-visualizaciones-interactivas">
<h1>Errores comunes al crear visualizaciones interactivas<a class="headerlink" href="#errores-comunes-al-crear-visualizaciones-interactivas" title="Permalink to this heading">#</a></h1>
<div class="admonition-objetivos admonition">
<p class="admonition-title">Objetivos</p>
<ul class="simple">
<li><p>Identificar los errores que se cometen al crear visualizaciones</p></li>
<li><p>Aplicar técnicas para corregir los errores y crear visualizaciones eficaces</p></li>
<li><p>Seleccionar y diseñar las visualizaciones adecuadas para determinados tipos de datos</p></li>
<li><p>Describir las diferentes bibliotecas y herramientas disponibles para crear visualizaciones</p></li>
</ul>
</div>
<section id="introduccion">
<h2>Introducción<a class="headerlink" href="#introduccion" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>En éste capítulo se enumera y explica los posibles fallos y errores que se cometen durante varias etapas del proceso de visualización de datos, como la visualización de elementos no correlacionados de un conjunto de datos para mostrar una relación o crear una característica interactiva inapropiada</p></li>
<li><p>El proceso de visualización de datos puede parecer sencillo: tome algunos datos, trace algunos gráficos, añadir algunas características interactivas, y el trabajo está hecho. O, tal vez, no lo sea: podrían haber varios lugares durante el trayecto en los que se pueden cometer errores. Estos errores terminan por dar lugar a una visualización defectuosa que no puede de manera fácil y eficaz transmitir lo que dicen los datos, lo que hace que sea completamente inútil para el público que lo está viendo.</p></li>
</ul>
</section>
<section id="formato-e-interpretacion-de-datos">
<h2>Formato e interpretación de datos<a class="headerlink" href="#formato-e-interpretacion-de-datos" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>La primera fase de la visualización de datos es <code class="docutils literal notranslate"><span class="pre">entender</span> <span class="pre">los</span> <span class="pre">datos</span> <span class="pre">frente</span> <span class="pre">a</span> <span class="pre">ti:</span> <span class="pre">entender</span> <span class="pre">lo</span> <span class="pre">que</span> <span class="pre">es,</span> <span class="pre">lo</span> <span class="pre">que</span> <span class="pre">significa</span> <span class="pre">y</span> <span class="pre">lo</span> <span class="pre">que</span> <span class="pre">transmite</span></code>. Solo cuando entiendas los datos serás capaz de diseñar una visualización que ayude a otros a entenderlos.</p></li>
<li><p>Además, es importante <code class="docutils literal notranslate"><span class="pre">asegurarse</span> <span class="pre">de</span> <span class="pre">que</span> <span class="pre">los</span> <span class="pre">datos</span> <span class="pre">tienen</span> <span class="pre">sentido</span> <span class="pre">y</span> <span class="pre">contienen</span> <span class="pre">suficiente</span> <span class="pre">información,</span> <span class="pre">ya</span> <span class="pre">sea</span> <span class="pre">categórica,</span> <span class="pre">numérica</span> <span class="pre">o</span> <span class="pre">una</span> <span class="pre">mezcla</span> <span class="pre">de</span> <span class="pre">ambas</span></code>, para ser visualizados. Por lo tanto, si tratas con datos erróneos o sucios, es probable que la visualización sea defectuosa.</p></li>
<li><p>En esta siguiente sección, veremos algunas formas de evitar los errores comunes que se suelen cometidos en esta fase de los datos y cómo evitarlos.</p></li>
</ul>
<p><strong>¿Cómo evitar los errores más comunes al tratar con datos sucios?</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Garbage</span> <span class="pre">In,</span> <span class="pre">Garbage</span> <span class="pre">Out</span></code>: Este es un dicho popular en el campo de la ciencia de datos, especialmente con respecto a la visualización de datos. Básicamente, significa que <code class="docutils literal notranslate"><span class="pre">si</span> <span class="pre">utilizas</span> <span class="pre">datos</span> <span class="pre">desordenados</span> <span class="pre">y</span> <span class="pre">ruidosos,</span> <span class="pre">vas</span> <span class="pre">a</span> <span class="pre">obtener</span> <span class="pre">una</span> <span class="pre">visualización</span> <span class="pre">defectuosa</span> <span class="pre">y</span> <span class="pre">poco</span> <span class="pre">informativa</span></code>. Los datos desordenados, ruidosos y sucios corresponden a una serie de problemas que se encuentran en los datos. Vamos a discutir los problemas uno por uno y las formas de tratar este tipo de datos.</p></li>
</ul>
<p><strong>Valores atípicos</strong></p>
<ul class="simple">
<li><p>Los datos que contienen valores inexactos o instancias que son <code class="docutils literal notranslate"><span class="pre">significativamente</span> <span class="pre">diferentes</span> <span class="pre">del</span> <span class="pre">resto</span> <span class="pre">de</span> <span class="pre">los</span> <span class="pre">datos</span> <span class="pre">de</span> <span class="pre">un</span> <span class="pre">dataset</span></code> se denominan valores atípicos. Estos valores atípicos pueden ser auténticos, es decir, parecen incorrectos, pero en realidad no lo son, o son errores que se cometen al recoger o almacenar los datos.</p></li>
<li><p>Veamos un ejemplo de un error cometido al recoger o almacenar los datos. La siguiente tabla muestra la <code class="docutils literal notranslate"><span class="pre">edad,</span> <span class="pre">el</span> <span class="pre">peso</span> <span class="pre">y</span> <span class="pre">el</span> <span class="pre">sexo</span> <span class="pre">de</span> <span class="pre">los</span> <span class="pre">clientes</span> <span class="pre">que</span> <span class="pre">acuden</span> <span class="pre">a</span> <span class="pre">un</span> <span class="pre">determinado</span> <span class="pre">gimnasio</span></code>. La columna de sexo consta de tres valores discretos <code class="docutils literal notranslate"><span class="pre">0,</span> <span class="pre">1</span> <span class="pre">y</span> <span class="pre">2</span> <span class="pre">que</span> <span class="pre">corresponden</span> <span class="pre">todos</span> <span class="pre">a</span> <span class="pre">una</span> <span class="pre">clase:</span> <span class="pre">hombre,</span> <span class="pre">mujer</span> <span class="pre">y</span> <span class="pre">otro</span></code>, respectivamente. La columna de la edad se expresa en años y la columna de peso está en kilogramos</p></li>
</ul>
<figure class="align-center">
<img alt="_images/Figure701.png" src="_images/Figure701.png" />
</figure>
<ul class="simple">
<li><p>Todo parece correcto hasta que llegamos a la cuarta instancia (índice 3), donde el peso es de 790 kg. <code class="docutils literal notranslate"><span class="pre">Esto</span> <span class="pre">parece</span> <span class="pre">extraño</span> <span class="pre">porque</span> <span class="pre">nadie</span> <span class="pre">puede</span> <span class="pre">pesar</span> <span class="pre">realmente</span> <span class="pre">790</span> <span class="pre">kg,</span> <span class="pre">especialmente</span> <span class="pre">alguien</span> <span class="pre">cuya</span> <span class="pre">estatura</span> <span class="pre">es</span> <span class="pre">de</span> <span class="pre">1,5</span> <span class="pre">metros</span> <span class="pre">y</span> <span class="pre">7</span> <span class="pre">pulgadas</span></code>. Quien haya almacenado estos datos <code class="docutils literal notranslate"><span class="pre">debe</span> <span class="pre">haber</span> <span class="pre">querido</span> <span class="pre">decir</span> <span class="pre">79</span> <span class="pre">kg</span> <span class="pre">y</span> <span class="pre">haber</span> <span class="pre">añadido</span> <span class="pre">un</span> <span class="pre">0</span> <span class="pre">por</span> <span class="pre">error</span></code>. Este es un caso de un valor atípico en el conjunto de datos. Esto puede parecer trivial en este momento, sin embargo, <code class="docutils literal notranslate"><span class="pre">esto</span> <span class="pre">puede</span> <span class="pre">resultar</span> <span class="pre">en</span> <span class="pre">visualizaciones</span> <span class="pre">y</span> <span class="pre">predicciones</span> <span class="pre">o</span> <span class="pre">patrones</span> <span class="pre">de</span> <span class="pre">modelos</span> <span class="pre">de</span> <span class="pre">aprendizaje</span> <span class="pre">automático</span> <span class="pre">defectuosos</span></code>, especialmente si hay múltiples repeticiones de esos datos. Ahora, veamos un ejemplo de un auténtico valor atípico en la siguiente tabla</p></li>
</ul>
<figure class="align-center">
<img alt="_images/Figure702.png" src="_images/Figure702.png" />
</figure>
<ul class="simple">
<li><p>El peso en el cuarto caso (índice 3) es de <code class="docutils literal notranslate"><span class="pre">167</span> <span class="pre">kilogramos,</span> <span class="pre">lo</span> <span class="pre">que</span> <span class="pre">parece</span> <span class="pre">extrañamente</span> <span class="pre">alto.</span> <span class="pre">Sin</span> <span class="pre">embargo,</span> <span class="pre">sigue</span> <span class="pre">siendo</span> <span class="pre">un</span> <span class="pre">valor</span> <span class="pre">verosímil,</span> <span class="pre">ya</span> <span class="pre">que</span> <span class="pre">es</span> <span class="pre">posible</span> <span class="pre">que</span> <span class="pre">alguien</span> <span class="pre">tenga</span> <span class="pre">un</span> <span class="pre">peso</span> <span class="pre">de</span> <span class="pre">167</span> <span class="pre">kilogramos</span> <span class="pre">a</span> <span class="pre">los</span> <span class="pre">37</span> <span class="pre">años</span></code>. Por lo tanto, se trata de un <code class="docutils literal notranslate"><span class="pre">verdadero</span> <span class="pre">valor</span> <span class="pre">atípico</span></code>. Mientras que en los ejemplos anteriores es fácil detectar el valor atípico, ya que solo hay 5 casos, en realidad, nuestros conjuntos de datos son masivos, por lo que comprobar cada caso es una tarea tediosa y poco práctica.</p></li>
<li><p>En consecuencia, en la vida real, podemos utilizar visualizaciones estáticas básicas, como los <code class="docutils literal notranslate"><span class="pre">gráficos</span> <span class="pre">de</span> <span class="pre">caja</span></code>, para observar la existencia de valores atípicos. Los gráficos de caja son visualizaciones de datos sencillas, pero informativas que pueden decirnos mucho sobre la forma en que se distribuyen nuestros datos. Muestran el rango de nuestros datos basándose en cinco valores clave:</p>
<ul>
<li><p>El valor mínimo de la columna</p></li>
<li><p>El primer cuartil</p></li>
<li><p>La mediana</p></li>
<li><p>El tercer cuartil</p></li>
<li><p>El valor máximo de la columna</p></li>
</ul>
</li>
<li><p>Esto es lo que hace que sean excelentes para mostrar los valores atípicos, además de describir la simetría de los datos, el grado de agrupación de los mismos (si todos los valores están repartidos en un amplio rango), y si están o no sesgados.</p></li>
</ul>
</section>
<section id="visualizacion-de-valores-atipicos-en-un-conjunto-de-datos-con-un-grafico-de-cajas">
<h2>Visualización de valores atípicos en un conjunto de datos con un gráfico de cajas<a class="headerlink" href="#visualizacion-de-valores-atipicos-en-un-conjunto-de-datos-con-un-grafico-de-cajas" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>En este ejercicio, vamos a crear un gráfico de caja para comprobar si nuestro conjunto de datos contiene valores atípicos. Vamos a utilizar el conjunto de datos <em>gym.csv</em>, que contiene información sobre los clientes de un determinado gimnasio.</p></li>
</ul>
<ul class="simple">
<li><p>Importar las librerías necesarias</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Guarda el archivo <em>gym.csv</em> en un DataFrame llamado <strong>gym</strong>, e imprime las cinco primeras filas del mismo para ver cómo son los datos</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gym</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/lihkir/Uninorte/main/AppliedStatisticMS/DataVisualizationRPython/Lectures/Python/PythonDataSets/gym.csv&#39;</span><span class="p">)</span>
<span class="n">gym</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Como puede ver, nuestros datos tienen tres columnas: edad, peso y sexo. La columna sexo consta de tres valores discretos que corresponden a tres clases discretas - 0 es hombre, 1 es mujer y 2 es otro.</p></li>
<li><p>Cree un gráfico de caja con el eje <span class="math notranslate nohighlight">\(x\)</span> como columna de sexo y el eje <span class="math notranslate nohighlight">\(y\)</span> como peso</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">gym</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;weight&#39;</span><span class="p">,</span> <span class="n">notched</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>La escala del eje <span class="math notranslate nohighlight">\(y\)</span> es extrañamente grande, ya que todos los gráficos de caja están comprimidos en la octava parte inferior del gráfico, por lo que no representa una visualización clara de los datos. Esto se debe al valor atípico en la cuarta instancia de nuestro <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> <strong>790 kg</strong></p></li>
<li><p>Todos los valores parecen estar bien, excepto ese valor atípico en la parte superior del gráfico con <strong>max=790</strong>. Ahora, veremos las formas de tratar los valores atípicos.</p></li>
</ul>
<p><strong>Cómo tratar los valores atípicos</strong></p>
<p>Hay tres formas principales de tratar los valores atípicos:</p>
<ul class="simple">
<li><p><strong>Eliminación</strong>: Si sólo hay unas pocas instancias (filas) que poseen valores atípicos, entonces esas instancias pueden ser eliminadas completamente del conjunto de datos, dejando así un conjunto de datos con cero valores atípicos. También hay ocasiones en las que una determinada característica (columna) contiene un gran número de valores atípicos. En tal caso, esa característica concreta puede eliminarse del conjunto de datos pero sólo si esa característica es insignificante. Sin embargo, la eliminación de datos no siempre es la mejor idea.</p></li>
</ul>
<ul class="simple">
<li><p><strong>Imputación</strong>: La imputación es una opción mejor que la eliminación, especialmente si hay muchos valores atípicos en el conjunto de datos. Esto puede hacerse de tres maneras:</p>
<ul>
<li><p>La forma más común es imputar los valores atípicos con la <strong>media</strong>, la <strong>mediana</strong> o la <strong>moda</strong> de la columna. Sin embargo, en el caso de muchos valores atípicos, estos valores pueden no ser lo suficientemente bueno, ya que cada valor atípico será un problema, debido a que cada uno de estos valores será sustituido por el mismo valor (la <strong>media</strong>, la <strong>mediana</strong> o la <strong>moda</strong>)</p></li>
<li><p>El otro método para obtener mejores valores para los valores atípicos, especialmente en el caso de de <strong>series temporales</strong>, es la <strong>interpolación lineal</strong>, es decir, el uso de polinomios lineales para crear nuevos puntos de datos dentro de un rango definido de puntos conocidos para reemplazar valores atípicos.</p></li>
<li><p>Un modelo de regresión lineal también puede utilizarse para predecir un valor que falta si es numérico, y en el caso de que el valor que falta sea categórico, se puede utilizar un modelo de regresión logística.</p></li>
<li><p>Por ejemplo, supongamos que tiene un conjunto de datos del que necesita mostrar una relación entre la altura y el peso. La columna de la altura tiene varios valores perdidos pero, como es una característica significativa, no puede eliminarla, ni tampoco puede imputar la media de la columna ya que eso podría llevar a una relación falsa. El conjunto de datos puede dividirse en dos conjuntos de datos</p>
<ul>
<li><p>El conjunto de datos de entrenamiento, que contiene instancias sin valores perdidos</p></li>
<li><p>El nuevo conjunto de datos, que contiene sólo los casos en los que faltan valores en la columna de altura.</p></li>
<li><p>A continuación, se puede utilizar un modelo de regresión lineal en el conjunto de datos de entrenamiento. El modelo aprenderá de estos datos y, cuando se le proporcione el nuevo conjunto de datos, podrá predecir los valores de la columna de altura. Ahora, los dos conjuntos de datos pueden fusionarse juntos y ser utilizados para crear visualizaciones ya que no hay valores perdidos.</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Transformación</strong>: Es el proceso de transformación de los valores atípicos mediante la construcción de la columna de datos en la que se encuentra el valor atípico, por ejemplo, convirtiendo los valores en porcentajes y utilizando esa columna como característica en lugar de la columna original. En la siguiente sección, veremos un ejercicio para entender cómo podemos tratar los los valores atípicos.</p></li>
</ul>
</section>
<section id="como-tratar-los-valores-atipicos">
<h2>Cómo tratar los valores atípicos<a class="headerlink" href="#como-tratar-los-valores-atipicos" title="Permalink to this heading">#</a></h2>
<p><strong>Detección de valores atípicos</strong></p>
<ul class="simple">
<li><p>Si nuestro conjunto de datos es pequeño, podemos detectar el valor atípico simplemente mirando el conjunto de datos. Pero si tenemos un conjunto de datos enorme, ¿cómo podemos identificar los valores atípicos? Tenemos que utilizar técnicas de visualización y matemáticas. A continuación se presentan algunas de las técnicas de detección de valores atípicos</p>
<ul>
<li><p>Boxplots</p></li>
<li><p>Puntuación <span class="math notranslate nohighlight">\(Z\)</span></p></li>
<li><p>Rango intercuantil <strong>(IQR)</strong></p></li>
</ul>
</li>
</ul>
<p><strong>Detección de valores atípicos mediante las puntuaciones <span class="math notranslate nohighlight">\(Z\)</span></strong></p>
<ul class="simple">
<li><p><strong>Criterio</strong>: Cualquier dato cuya puntuación <span class="math notranslate nohighlight">\(Z\)</span> esté fuera de la tercera desviación estándar es un valor atípico</p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/z_score.png"><img alt="_images/z_score.png" src="_images/z_score.png" style="width: 560.0px; height: 364.8px;" /></a>
</figure>
<p><strong>Implementación</strong>:</p>
<ul class="simple">
<li><p>Recorrer todos los datos y calcular la puntuación <span class="math notranslate nohighlight">\(Z\)</span> mediante la fórmula <span class="math notranslate nohighlight">\((X_{i}-\mu)/\sigma\)</span>. Definir un valor de umbral de 3 y marcar los puntos de datos cuyo valor absoluto de puntuación <span class="math notranslate nohighlight">\(Z\)</span> sea mayor que el umbral como valores atípicos.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outliers</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">def</span> <span class="nf">detect_outliers_zscore</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">thres</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">std</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
        <span class="n">z_score</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="n">mean</span><span class="p">)</span><span class="o">/</span><span class="n">std</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">z_score</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">thres</span><span class="p">):</span>
            <span class="n">outliers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">outliers</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sample_outliers</span> <span class="o">=</span> <span class="n">detect_outliers_zscore</span><span class="p">(</span><span class="n">gym</span><span class="o">.</span><span class="n">weight</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Outliers from Z-scores method: &quot;</span><span class="p">,</span> <span class="n">sample_outliers</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Detección de valores atípicos mediante el rango intercuantil (IQR)</strong></p>
<ul class="simple">
<li><p><strong>Criterio</strong>: Los datos que se sitúan 1.5 veces del <strong>IQR</strong> por encima de <span class="math notranslate nohighlight">\(Q_{3}\)</span> y por debajo de <span class="math notranslate nohighlight">\(Q_{1}\)</span> son valores atípicos.</p></li>
</ul>
<p><strong>Implementación</strong></p>
<ul class="simple">
<li><p>Ordenar el conjunto de datos de forma ascendente</p></li>
<li><p>Calcular los cuartiles 1 y 3 <span class="math notranslate nohighlight">\((Q_{1}, Q_{3})\)</span></p></li>
<li><p>Calcular <span class="math notranslate nohighlight">\(IQR=Q_{3}-Q_{1}\)</span></p></li>
<li><p>Calcular el límite inferior = <span class="math notranslate nohighlight">\((Q_{1}-1.5*IQR)\)</span>, el límite superior = <span class="math notranslate nohighlight">\((Q_{3}+1.5*IQR)\)</span>, recorrer los valores del conjunto de datos y comprobar los que están por debajo del límite inferior y por encima del límite superior y marcarlos como valores atípicos</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outliers</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">def</span> <span class="nf">detect_outliers_iqr</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">q1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
    <span class="n">q3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">75</span><span class="p">)</span>
    <span class="n">IQR</span> <span class="o">=</span> <span class="n">q3</span><span class="o">-</span><span class="n">q1</span>
    <span class="n">lwr_bound</span> <span class="o">=</span> <span class="n">q1</span><span class="o">-</span><span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="n">IQR</span><span class="p">)</span>
    <span class="n">upr_bound</span> <span class="o">=</span> <span class="n">q3</span><span class="o">+</span><span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="n">IQR</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span> 
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span><span class="o">&lt;</span><span class="n">lwr_bound</span> <span class="ow">or</span> <span class="n">i</span><span class="o">&gt;</span><span class="n">upr_bound</span><span class="p">):</span>
            <span class="n">outliers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">outliers</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sample_outliers</span> <span class="o">=</span> <span class="n">detect_outliers_iqr</span><span class="p">(</span><span class="n">gym</span><span class="o">.</span><span class="n">weight</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Outliers from IQR method: &quot;</span><span class="p">,</span> <span class="n">sample_outliers</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Tratamiento de los valores atípicos</strong></p>
<p><strong>Eliminación</strong></p>
<ul class="simple">
<li><p>En este ejercicio, vamos a eliminar la instancia que contiene el valor atípico del conjunto de datos que utilizamos en el ejercicio previo, y visualizamos el conjunto de datos de nuevo generando un gráfico de caja basado en el nuevo conjunto de datos.</p></li>
</ul>
<ul class="simple">
<li><p>Importar las librerías necesarias</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Guarda el archivo <em>gym.csv</em> en un DataFrame llamado <strong>gym</strong>, e imprime las cinco primeras filas del mismo para ver cómo son los datos</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gym</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/lihkir/Uninorte/main/AppliedStatisticMS/DataVisualizationRPython/Lectures/Python/PythonDataSets/gym.csv&#39;</span><span class="p">)</span>
<span class="n">gym</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Modificar el DataFrame del gimnasio para que solo esté formado por los <em>casos en los que el peso sea inferior a 104</em> e imprimir las cinco primeras filas:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gym_del</span> <span class="o">=</span> <span class="n">gym</span><span class="p">[</span><span class="n">gym</span><span class="o">.</span><span class="n">weight</span> <span class="o">&lt;</span> <span class="mi">104</span><span class="p">]</span>
<span class="n">gym_del</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Vamos a crear un boxplot para ver el aspecto de los datos</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig1</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">gym_del</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;weight&#39;</span><span class="p">,</span> <span class="n">notched</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">fig1</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">renderer</span><span class="o">=</span><span class="s2">&quot;svg&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">900</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">410</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Imputación por medio de la <em>media, mediana o moda</em></strong></p>
<ul class="simple">
<li><p>Como el <em>valor medio es sensible a valores atípicos, se aconseja sustituirlos por la mediana</em></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">median</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">gym</span><span class="o">.</span><span class="n">weight</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;median: &quot;</span><span class="p">,</span> <span class="n">median</span><span class="p">)</span>

<span class="k">for</span> <span class="n">outlier</span> <span class="ow">in</span> <span class="n">sample_outliers</span><span class="p">:</span>
    <span class="n">gym</span><span class="o">.</span><span class="n">weight</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">gym</span><span class="o">.</span><span class="n">weight</span> <span class="o">==</span> <span class="n">outlier</span><span class="p">,</span> <span class="n">median</span><span class="p">,</span> <span class="n">gym</span><span class="o">.</span><span class="n">weight</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gym</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig1</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">gym</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;weight&#39;</span><span class="p">,</span> <span class="n">notched</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">fig1</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">renderer</span><span class="o">=</span><span class="s2">&quot;svg&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">900</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">410</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="tratamiento-de-los-valores-faltantes">
<h2>Tratamiento de los valores faltantes<a class="headerlink" href="#tratamiento-de-los-valores-faltantes" title="Permalink to this heading">#</a></h2>
<p><strong>Datos faltantes</strong></p>
<ul class="simple">
<li><p>Los datos perdidos son, como su nombre indica, valores que están en blanco (<strong>NaN, -, 0</strong> cuando no deberían ser <strong>0</strong>, etc.). Al igual que los valores atípicos, los valores perdidos pueden ser problemáticos tanto en el caso de las visualizaciones como en el de los modelos predictivos.</p></li>
<li><p>Los valores faltantes en las visualizaciones pueden mostrar una tendencia que en realidad no existe o no representa una relación entre dos variables que, en realidad, es significativa. Aunque es posible crear visualizaciones con un conjunto de datos que contenga valores perdidos, no se recomienda hacerlo. Al hacerlo, se ignoran los casos en los que se encuentran esos valores perdidos, creando así una visualización basada en algunos de los datos pero no en todos.</p></li>
<li><p>Por lo tanto, el tratamiento de los valores perdidos es de suma importancia. Existen dos enfoques principales para tratar los valores perdidos: <code class="docutils literal notranslate"><span class="pre">la</span> <span class="pre">supresión</span> <span class="pre">y</span> <span class="pre">la</span> <span class="pre">imputación,</span> <span class="pre">ambos</span> <span class="pre">discutidos</span> <span class="pre">en</span> <span class="pre">términos</span> <span class="pre">de</span> <span class="pre">tratamiento</span> <span class="pre">de</span> <span class="pre">los</span> <span class="pre">valores</span> <span class="pre">atípicos.</span> <span class="pre">La</span> <span class="pre">misma</span> <span class="pre">lógica</span> <span class="pre">se</span> <span class="pre">aplica</span> <span class="pre">a</span> <span class="pre">los</span> <span class="pre">valores</span> <span class="pre">faltantes</span></code>.</p></li>
</ul>
<ul class="simple">
<li><p>En este ejercicio, vamos a trabajar con un conjunto de datos que tiene <code class="docutils literal notranslate"><span class="pre">siete</span> <span class="pre">valores</span> <span class="pre">perdidos</span> <span class="pre">en</span> <span class="pre">forma</span> <span class="pre">de</span> <span class="pre">0s</span></code>. En primer lugar, <code class="docutils literal notranslate"><span class="pre">eliminaremos</span> <span class="pre">las</span> <span class="pre">instancias</span> <span class="pre">que</span> <span class="pre">contienen</span> <span class="pre">estos</span> <span class="pre">valores</span> <span class="pre">perdidos</span> <span class="pre">y</span> <span class="pre">se</span> <span class="pre">genera</span> <span class="pre">un</span> <span class="pre">gráfico</span> <span class="pre">de</span> <span class="pre">caja</span> <span class="pre">para</span> <span class="pre">ver</span> <span class="pre">el</span> <span class="pre">impacto</span> <span class="pre">que</span> <span class="pre">la</span> <span class="pre">eliminación</span> <span class="pre">de</span> <span class="pre">un</span> <span class="pre">gran</span> <span class="pre">número</span> <span class="pre">de</span> <span class="pre">instancias</span> <span class="pre">en</span> <span class="pre">nuestra</span> <span class="pre">visualización</span></code>. A continuación, imputaremos el valor de la mediana de la columna que contiene los valores perdidos y generaremos un gráfico de caja basado en este conjunto de datos imputados.</p></li>
</ul>
<ul class="simple">
<li><p>Importar las librerías necesarias</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">px</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Guarda el archivo <em>weight.csv</em> en un <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> llamado <strong>weight</strong>, e imprime las cinco primeras filas del mismo para ver cómo son los datos y utiliza la función <code class="docutils literal notranslate"><span class="pre">.describe()</span></code> para mostrar información sobre ella</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/lihkir/Uninorte/main/AppliedStatisticMS/DataVisualizationRPython/Lectures/Python/PythonDataSets/weight.csv&#39;</span><span class="p">)</span>
<span class="n">w</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Como podemos ver, el valor de peso mínimo en nuestro conjunto de datos es <strong>0</strong>; sin embargo, nadie puede pesar <strong>0 kgs</strong>, lo que significa que tenemos valores faltantes en forma de <strong>0s</strong>. Intentemos eliminar estas instancias.</p></li>
<li><p>Cree un nuevo <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> que conste sólo de las instancias en las que el peso no sea igual a <strong>0</strong>. Muestre información sobre este nuevo <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">doc_w</span> <span class="o">=</span> <span class="n">w</span><span class="p">[</span><span class="n">w</span><span class="o">.</span><span class="n">weight</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">doc_w</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Crea un <code class="docutils literal notranslate"><span class="pre">boxplot</span></code> con este nuevo <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, con el eje <span class="math notranslate nohighlight">\(x\)</span> como sexo y el eje <span class="math notranslate nohighlight">\(y\)</span> como peso</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig1</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">doc_w</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;weight&#39;</span><span class="p">,</span> <span class="n">notched</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">fig1</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">renderer</span><span class="o">=</span><span class="s2">&quot;svg&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">900</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">410</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Ahora, el valor del peso mínimo es 21, lo que tiene más sentido. Sin embargo, nuestro conteo se ha reducido a <code class="docutils literal notranslate"><span class="pre">55</span> <span class="pre">de</span> <span class="pre">62,</span> <span class="pre">lo</span> <span class="pre">que</span> <span class="pre">significa</span> <span class="pre">que</span> <span class="pre">se</span> <span class="pre">han</span> <span class="pre">eliminado</span> <span class="pre">7</span> <span class="pre">instancias</span> <span class="pre">de</span> <span class="pre">nuestro</span> <span class="pre">conjunto</span> <span class="pre">de</span> <span class="pre">datos</span></code>. Esto puede parecer pequeño en este ejemplo, pero en realidad, esto puede tener repercusiones serias en la información obtenida.</p></li>
<li><p>Además, en el gráfico de caja anterior, el extremo inferior de la caja para el sexo 0 y el extremo superior de la caja para el sexo 2 es ligeramente anormal. Por lo tanto, sustituyamos los valores 0 de la columna de peso por el valor medio de la columna. Recuerde que tenemos que calcular la media de la columna <strong>¡columna sin tener en cuenta esos valores 0!</strong> Si los tenemos en cuenta, entonces nuestra media será incorrecta.</p></li>
</ul>
<ul class="simple">
<li><p>Calcular la media de la columna de pesos del <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> que consiste en sólo valores de peso distintos de cero</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">median_w</span> <span class="o">=</span> <span class="n">doc_w</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
<span class="n">median_w</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Utilice la función <code class="docutils literal notranslate"><span class="pre">.replace()</span></code> para sustituir los valores <strong>0</strong> presentes en la columna <strong>weight</strong> del <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> original por la mediana de la columna <strong>weight</strong> del modificado. Guarde esto en un nuevo <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w_new</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s1">&#39;weight&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="n">median_w</span><span class="p">}})</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Muestra la información del nuevo <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w_new</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Nuestro recuento es de 62, lo que significa que tenemos todas las instancias, y nuestro peso mínimo es 21, lo que significa que no tenemos ningún <strong>0</strong>.</p></li>
<li><p>Cree un gráfico de caja con este nuevo <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, con el eje <span class="math notranslate nohighlight">\(x\)</span> como <strong>sex</strong> y el eje <span class="math notranslate nohighlight">\(y\)</span> como <strong>weight</strong>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig2</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">box</span><span class="p">(</span><span class="n">w_new</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;weight&#39;</span><span class="p">,</span> <span class="n">notched</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">fig2</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">renderer</span><span class="o">=</span><span class="s2">&quot;svg&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">900</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">410</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Ahora, tenemos una visualización que no tiene valores perdidos y representa todas las instancias que están presentes en el conjunto de datos. Veamos el tercer problema que puede generar una visualización defectuosa. <code class="docutils literal notranslate"><span class="pre">Otras</span> <span class="pre">técnicas</span> <span class="pre">de</span> <span class="pre">imputación</span> <span class="pre">de</span> <span class="pre">datos</span> <span class="pre">fueron</span> <span class="pre">estudiadas</span> <span class="pre">en</span> <span class="pre">R,</span> <span class="pre">y</span> <span class="pre">se</span> <span class="pre">pueden</span> <span class="pre">importar</span> <span class="pre">a</span> <span class="pre">Python</span></code>. En Python, <code class="docutils literal notranslate"><span class="pre">MICE</span></code> se puede ejecutar en un paquete llamado <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.impute.IterativeImputer.html">IterativeImputer</a>. Estaba en fase experimental hasta hace poco y ahora está disponible en el paquete <code class="docutils literal notranslate"><span class="pre">sklearn.impute</span></code>.`</p></li>
</ul>
<p><strong>Instancias y/o funciones duplicadas</strong></p>
<ul class="simple">
<li><p>El tercer problema es la presencia de <code class="docutils literal notranslate"><span class="pre">instancias</span> <span class="pre">y/o</span> <span class="pre">características</span> <span class="pre">duplicadas</span> <span class="pre">en</span> <span class="pre">un</span> <span class="pre">conjunto</span> <span class="pre">de</span> <span class="pre">datos</span></code>. Se trata de elementos innecesarios en el conjunto de datos y, si no se eliminan, <em>pueden afectar a las tendencias y a los conocimientos que se muestran en una visualización</em>.</p></li>
<li><p>Por ejemplo, puede crear una visualización que muestre la relación entre el género de un adolescente y si toca el piano. Con un conjunto de datos sin valores atípicos, anomalías o valores perdidos, obtendrá una gran visualización. A partir de la visualización, podrá también concluir que hay más mujeres que tocan el piano que hombres. Sin embargo, digamos que la visualización proviene del conjunto de datos siguiente</p></li>
</ul>
<figure class="align-center">
<img alt="_images/Figure714.png" src="_images/Figure714.png" />
</figure>
<ul class="simple">
<li><p>Hay dos instancias para <strong>Nita Thadaka</strong> y tres instancias para <strong>Pooja Rajesh</strong>, lo que significa que hay <code class="docutils literal notranslate"><span class="pre">tres</span> <span class="pre">instancias</span> <span class="pre">duplicadas</span> <span class="pre">en</span> <span class="pre">total</span></code>. Esto significa que la información que la visualización está proporcionando es inexacta. La forma de tratar los duplicados es sencilla: <strong>eliminarlos</strong>. Con este fin puede utlizar la función: <code class="docutils literal notranslate"><span class="pre">.drop_duplicates()</span></code></p></li>
</ul>
<p><strong>Mala selección de características</strong></p>
<ul class="simple">
<li><p>Con respecto a un conjunto de datos, una característica es una columna en el conjunto de datos, mientras que una instancia es una fila en el conjunto de datos. Por ejemplo, en la tabla anterior, nombre, sexo, tocar el piano y la edad son características, mientras que Pooja Rajesh, F, Yes y 17 es una instancia.</p></li>
<li><p>Dado que el objetivo de una visualización es mostrar una tendencia, un patrón, una relación o algún vínculo entre dos o más características en un conjunto de datos, <code class="docutils literal notranslate"><span class="pre">es</span> <span class="pre">importante</span> <span class="pre">que</span> <span class="pre">la</span> <span class="pre">selección</span> <span class="pre">de</span> <span class="pre">esas</span> <span class="pre">características</span> <span class="pre">se</span> <span class="pre">haga</span> <span class="pre">con</span> <span class="pre">cuidado</span></code>. Por lo tanto, este es un punto crucial en la visualización de datos.</p></li>
<li><p>Si el objetivo es transmitir que existe una fuerte relación entre dos características, entonces hay que <code class="docutils literal notranslate"><span class="pre">asegurarse</span> <span class="pre">de</span> <span class="pre">que</span> <span class="pre">están</span> <span class="pre">fuertemente</span> <span class="pre">correlacionadas</span> <span class="pre">antes</span> <span class="pre">de</span> <span class="pre">proceder</span> <span class="pre">a</span> <span class="pre">su</span> <span class="pre">visualización</span></code>. La selección de características insignificantes dará lugar a una visualización sin sentido y no transmitirá ninguna información concreta. Por ejemplo, en cuanto al conjunto de datos co2.csv,
el conjunto de datos contiene información sobre las emisiones de dióxido de carbono por país y el PIB por país. Comprobamos la <code class="docutils literal notranslate"><span class="pre">correlación</span> <span class="pre">entre</span> <span class="pre">las</span> <span class="pre">emisiones</span> <span class="pre">de</span> <span class="pre">CO2</span> <span class="pre">y</span> <span class="pre">el</span> <span class="pre">PIB</span> <span class="pre">antes</span> <span class="pre">de</span> <span class="pre">visualizar</span> <span class="pre">el</span> <span class="pre">conjunto</span> <span class="pre">de</span> <span class="pre">datos,</span> <span class="pre">garantizando</span> <span class="pre">que</span> <span class="pre">íbamos</span> <span class="pre">a</span> <span class="pre">crear</span> <span class="pre">una</span> <span class="pre">una</span> <span class="pre">visualización</span> <span class="pre">que</span> <span class="pre">valiera</span> <span class="pre">la</span> <span class="pre">pena</span></code>.</p></li>
</ul>
</section>
<section id="ejercicio-para-entregar">
<h2>Ejercicio para entregar<a class="headerlink" href="#ejercicio-para-entregar" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Determine las características que se visualizan en un gráfico de dispersión. Se le da el conjunto de datos co2.csv y se le pide que proporcione información sobre él, como por ejemplo, qué tipo de patrones existen, si hay tendencias entre las características, etc. Es necesario que su visualización final transmita información significativa. Para conseguirlo, va a crear visualizaciones para diferentes emparejamientos de características para entender están correlacionadas y, por lo tanto, vale la pena visualizarlas.</p></li>
</ul>
<p><strong>Pasos principales</strong></p>
<ul class="simple">
<li><p>Importe las bibliotecas necesarias.</p></li>
<li><p>Vuelva a crear el <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>. Desde el <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> <code class="docutils literal notranslate"><span class="pre">gm</span></code> incluya las columnas <code class="docutils literal notranslate"><span class="pre">population</span></code>, <code class="docutils literal notranslate"><span class="pre">fertility</span></code>, y <code class="docutils literal notranslate"><span class="pre">life</span></code></p></li>
<li><p>Visualiza la relación entre el <code class="docutils literal notranslate"><span class="pre">co2</span></code> y <code class="docutils literal notranslate"><span class="pre">life</span></code> utilizando un gráfico de dispersión, con el nombre del país como información en la herramienta hover y el año como deslizador.</p></li>
<li><p>Comprueba la correlación entre <code class="docutils literal notranslate"><span class="pre">co2</span></code> y <code class="docutils literal notranslate"><span class="pre">life</span></code>.</p></li>
<li><p>Visualiza la relación entre <code class="docutils literal notranslate"><span class="pre">co2</span></code> y <code class="docutils literal notranslate"><span class="pre">fertility</span></code> mediante un gráfico de dispersión, con el nombre del país como información en la herramienta hover y el año como deslizador.</p></li>
<li><p>Comprueba la correlación entre <code class="docutils literal notranslate"><span class="pre">co2</span></code> y <code class="docutils literal notranslate"><span class="pre">fertility</span></code></p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "ml_tf"
        },
        kernelOptions: {
            name: "ml_tf",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'ml_tf'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="geo_dataviz.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Visualización interactiva de datos geográficos</p>
      </div>
    </a>
    <a class="right-next"
       href="predictive_model.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Modelo predictivo con series de tiempo</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduccion">Introducción</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#formato-e-interpretacion-de-datos">Formato e interpretación de datos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizacion-de-valores-atipicos-en-un-conjunto-de-datos-con-un-grafico-de-cajas">Visualización de valores atípicos en un conjunto de datos con un gráfico de cajas</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#como-tratar-los-valores-atipicos">Cómo tratar los valores atípicos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tratamiento-de-los-valores-faltantes">Tratamiento de los valores faltantes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ejercicio-para-entregar">Ejercicio para entregar</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Lihki Rubio PhD in Mathematical Engineering
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright Department of Mathematics and Statistics.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>